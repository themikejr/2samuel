---
import { Image } from 'astro:assets';
import type { CollectionEntry } from 'astro:content';
import Layout from './Layout.astro';
import FormattedDate from '../components/FormattedDate.astro';

type Props = CollectionEntry<'blog'>['data'] & { slug?: string };

const { title, description, pubDate, updatedDate, heroImage, slug } = Astro.props;
---

<Layout title={title} postId={slug}>
	<div class="study-meta">
		<div class="date">
			<FormattedDate date={pubDate} />
			{
				updatedDate && (
					<div class="last-updated-on">
						Updated: <FormattedDate date={updatedDate} />
					</div>
				)
			}
		</div>
		{description && <p class="subtitle">{description}</p>}
	</div>
	
	
	<article>
		<slot />
	</article>
	
	<style>
		.study-meta {
			margin-bottom: 2rem;
			padding-bottom: 1rem;
			border-bottom: 1px solid var(--color-text-light);
		}
		
		.date {
			color: var(--color-text-light);
			font-size: 0.9rem;
			margin-bottom: 0.5rem;
		}
		
		.last-updated-on {
			font-style: italic;
			margin-top: 0.25rem;
		}
		
		.hero-image img {
			width: 100%;
			height: auto;
		}
	</style>
</Layout>
